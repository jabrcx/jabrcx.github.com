
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>logstats &mdash; Summarize and Visualize Data in Log Files - jabrcx</title>
  <meta name="author" content="jabrcx">

  
  <meta name="description" content="logstats &mdash; Summarize and Visualize Data in Log Files May 24th, 2013 Say you have data buried in log files.
Need to identify some trends?
Need &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jabrcx.github.com/logstats">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="jabrcx" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">jabrcx</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jabrcx.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">logstats &mdash; Summarize and Visualize Data in Log Files</h1>
    <p class="meta">








  


<time datetime="2013-05-24T20:24:00-04:00" pubdate data-updated="true">May 24<span>th</span>, 2013</time></p>
  </header>
  
  <p>Say you have data buried in log files.
Need to identify some trends?
Need to extract, summarize, and analyze numbers included in the log entries?
Want something quick and easy without the need for an entire infrastructure for log analysis?
That&#8217;s what logstats is for.</p>

<p>logstats reads in log files &mdash; text files where each line starts with a timestamp.
You specify regular expressions describing the events and/or numeric data you&#8217;re interested in.
logstats aggregates statistics about the events by regular time interval &mdash; a time series histogram.
By default it prints the data to the screen; if you have matplotlib installed it can plot it, too.
It can also compute overall statistics in addition to the time series statistics.</p>

<p>logstats is a standalone, command-line script, written in python, with no other external dependencies other than matplotlib, and that&#8217;s only needed for extra plotting in addition to the default text output.
It&#8217;s available at:</p>

<p><a href="https://github.com/jabrcx/logstats">https://github.com/jabrcx/logstats</a></p>

<hr />

<h2>The Basics</h2>

<p>logstats can count event occurrences and it can sum and/or average numeric data in the log entries.
The basic way to invoke logstats is:</p>

<figure class='code'><figcaption><span>Basic Syntax</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>logstats  --TYPE LABEL:REGEX  FILENAME
</span></code></pre></td></tr></table></div></figure>


<p>where</p>

<ul>
<li><code>TYPE</code> is the statistic type &mdash; <code>count</code>, <code>sum</code>, or <code>average</code>.</li>
<li><code>LABEL</code> is how you want to label the event in output and plots.</li>
<li><code>REGEX</code> is a regular expression designed to match the log entries of interest.</li>
<li><code>FILENAME</code> is a log file (timestamped lines of text)</li>
</ul>


<p>If <code>TYPE</code> is <code>sum</code> or <code>average</code>, then <code>REGEX</code> must contain one subgroup that extracts the specific numeric value of interest.
Whitespace around the <code>:</code> character is ignored, and since typical <code>LABEL</code>s and/or <code>REGEX</code>es will have whitespace and/or special metacharacters in them, don&#8217;t forget to quote the whole thing so the shell doesn&#8217;t attempt to parse it before it gets to logstats.
If no filenames are given, logstats will read from stdin.</p>

<p>Usage is best demonstrated by example, which requires an example log file.
This demo uses a log named <code>data-mover.log</code> from a distributed data transfer system, simplified for demo purposes.
There are log entries for each call to <code>data-get</code> and <code>data-put</code>, and there are entries regarding <em>token</em> acquisition (a semaphore for controlling the number of parallel transfers).
Many of these transfers are happening in parallel, on many hosts, all logging to this file like so:</p>

<figure class='code'><figcaption><span>Example Log Data</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>...
</span><span class='line'>2012-02-19 07:00:05: host6203: pid  9480: data-mover called: data-put --size 367437348
</span><span class='line'>2012-02-19 07:00:05: host5404: pid  1373: data-mover called: data-put --size 22980
</span><span class='line'>2012-02-19 07:00:06: host5404: pid  1373: acquiring an i/o token
</span><span class='line'>2012-02-19 07:00:06: host6203: pid  9480: acquiring an i/o token
</span><span class='line'>2012-02-19 07:00:06: host6203: pid  9480: i/o token acquired: token:mover4_0, host:mover4, tries:1, wait:0.0 seconds
</span><span class='line'>2012-02-19 07:00:06: host5404: pid  1373: i/o token acquired: token:mover3_0, host:mover3, tries:1, wait:0.0 seconds
</span><span class='line'>2012-02-19 07:00:06: host5404: pid  1373: put transfer of [22980] bytes completed in [0.285] seconds [0.077 MiB/s]
</span><span class='line'>2012-02-19 07:00:07: host5313: pid 16023: data-mover called: data-get --size 788861763
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p>The exact meaning and sequence of the events is not important &mdash; just note the data begging to be summarized and plotted.</p>

<h2>Counting Events</h2>

<p>Say we want to see the number of data-mover calls as function of time.
We&#8217;re therefore interested in the lines containing the string <code>data-mover called</code> &mdash; that&#8217;ll be the <code>REGEX</code>, just a fixed string in this simple case.
We can give this statistic the label <code>Data-Mover Calls</code>:</p>

<figure class='code'><figcaption><span>Counting Events</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>logstats --count <span class="s1">&#39;Data-Mover Calls: data-mover called&#39;</span>  data-mover.log
</span><span class='line'>                                              Data-Mover Calls
</span><span class='line'>                                            ------------------
</span><span class='line'><span class="o">[</span>2012-02-19 07:00:00, 2012-02-19 07:05:00<span class="o">)</span>:                150
</span><span class='line'><span class="o">[</span>2012-02-19 07:05:00, 2012-02-19 07:10:00<span class="o">)</span>:                216
</span><span class='line'><span class="o">[</span>2012-02-19 07:10:00, 2012-02-19 07:15:00<span class="o">)</span>:                248
</span><span class='line'><span class="o">[</span>2012-02-19 07:15:00, 2012-02-19 07:20:00<span class="o">)</span>:                139
</span><span class='line'><span class="o">[</span>2012-02-19 07:20:00, 2012-02-19 07:25:00<span class="o">)</span>:                 70
</span><span class='line'><span class="o">[</span>2012-02-19 07:25:00, 2012-02-19 07:30:00<span class="o">)</span>:                189
</span><span class='line'><span class="o">[</span>2012-02-19 07:30:00, 2012-02-19 07:35:00<span class="o">)</span>:                153
</span><span class='line'><span class="o">[</span>2012-02-19 07:35:00, 2012-02-19 07:40:00<span class="o">)</span>:                122
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p>This counted up the number of calls that happened during each 5 minutes interval.
(As with all examples here, the text output is truncated for clarity.)
By adding <code>--show-plots</code> and/or <code>--save-plots</code>, we get a picture (requires matplotlib):</p>

<p><img src="120219070000-120219202959.count.Data-Mover_Calls.time_series_300s.png" title="Data-Mover Calls" alt="Data-Mover Calls" /></p>

<p>Multiple statistics of the same type can be put on the same plot.
For example, the following will plot <code>data-get</code> and <code>data-put</code> calls separately.
Since the strings <code>data-get</code> and <code>data-put</code> are only mentioned in the log entries noting a new call, the <code>REGEX</code>es can again be simple fixed strings:</p>

<figure class='code'><figcaption><span>Counting Multiple Events</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>logstats --count <span class="s1">&#39;Get Calls: data-get&#39;</span> --count <span class="s1">&#39;Put Calls: data-put&#39;</span> --save-plots  data-mover.log
</span><span class='line'>                                               Get Calls   Put Calls
</span><span class='line'>                                            ------------------------
</span><span class='line'><span class="o">[</span>2012-02-19 07:00:00, 2012-02-19 07:05:00<span class="o">)</span>:          112          38
</span><span class='line'><span class="o">[</span>2012-02-19 07:05:00, 2012-02-19 07:10:00<span class="o">)</span>:          191          25
</span><span class='line'><span class="o">[</span>2012-02-19 07:10:00, 2012-02-19 07:15:00<span class="o">)</span>:          214          34
</span><span class='line'><span class="o">[</span>2012-02-19 07:15:00, 2012-02-19 07:20:00<span class="o">)</span>:          104          35
</span><span class='line'><span class="o">[</span>2012-02-19 07:20:00, 2012-02-19 07:25:00<span class="o">)</span>:           32          38
</span><span class='line'><span class="o">[</span>2012-02-19 07:25:00, 2012-02-19 07:30:00<span class="o">)</span>:          133          56
</span><span class='line'><span class="o">[</span>2012-02-19 07:30:00, 2012-02-19 07:35:00<span class="o">)</span>:          102          51
</span><span class='line'><span class="o">[</span>2012-02-19 07:35:00, 2012-02-19 07:40:00<span class="o">)</span>:           67          55
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p><img src="120219070000-120219202959.count.Get_Calls,Put_Calls.time_series_300s.png" title="Get Calls, Put Calls" alt="Get Calls, Put Calls" /></p>

<p>Often there is some field in the log entries for which you want individual statistics for each unique value that occurs.
For example, when an i/o token is acquired, it notes a mover host that should be used for the transfer, e.g. <code>host:mover4</code> in this entry:</p>

<figure class='code'><figcaption><span>Example Log Entry with Mover Host</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>2012-02-19 07:00:06: host6203: pid  9480: i/o token acquired: token:mover4_0, host:mover4, tries:1, wait:0.0 seconds
</span></code></pre></td></tr></table></div></figure>


<p>To plot token acquisition count per mover host, use <code>--breakdown-by-field 10</code> &mdash; the field of interest is the 10th one (when split on whitespace and indexed from 1, including the timestamp):</p>

<figure class='code'><figcaption><span>Counting Events, Breaking Down by Field Values</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>logstats --count <span class="s1">&#39;Token Acquisitions: i/o token acquired&#39;</span> --breakdown-by-field 10 --save-plots  data-mover.log
</span><span class='line'>                                              Token Acquisitions         host:mover3         host:mover4         host:mover2         host:mover1
</span><span class='line'>                                            ----------------------------------------------------------------------------------------------------
</span><span class='line'><span class="o">[</span>2012-02-19 07:00:00, 2012-02-19 07:05:00<span class="o">)</span>:                  151                  53                  50                  43                   5
</span><span class='line'><span class="o">[</span>2012-02-19 07:05:00, 2012-02-19 07:10:00<span class="o">)</span>:                  223                  70                  78                  68                   7
</span><span class='line'><span class="o">[</span>2012-02-19 07:10:00, 2012-02-19 07:15:00<span class="o">)</span>:                  260                  95                  89                  71                   5
</span><span class='line'><span class="o">[</span>2012-02-19 07:15:00, 2012-02-19 07:20:00<span class="o">)</span>:                  143                  48                  45                  48                   2
</span><span class='line'><span class="o">[</span>2012-02-19 07:20:00, 2012-02-19 07:25:00<span class="o">)</span>:                   70                  19                  20                  28                   3
</span><span class='line'><span class="o">[</span>2012-02-19 07:25:00, 2012-02-19 07:30:00<span class="o">)</span>:                  195                  56                  69                  61                   9
</span><span class='line'><span class="o">[</span>2012-02-19 07:30:00, 2012-02-19 07:35:00<span class="o">)</span>:                  155                  54                  54                  44                   3
</span><span class='line'><span class="o">[</span>2012-02-19 07:35:00, 2012-02-19 07:40:00<span class="o">)</span>:                  122                  38                  44                  35                   5
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p><img src="120219070000-120219202959.count.Token_Acquisitions.breakdown10.time_series_300s.png" title="Token_Acquisitions" alt="Token Acquisitions" /></p>

<p>Some helpful options for conveying more information in the plot are <code>--totals-in-title</code> and <code>--totals-in-legend</code>.
These will include the total values for each thing plotted, which otherwise aren&#8217;t shown.
Furthermore, by adding <code>--totals-only</code> or <code>--totals-also</code>, logstats will compute and plot the total counts separately:</p>

<figure class='code'><figcaption><span>Total Counts</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>logstats --count <span class="s1">&#39;Token Acquisitions: i/o token acquired&#39;</span> --breakdown-by-field 10 --totals-only --save-plots  data-mover.log
</span><span class='line'>                                              Token Acquisitions         host:mover4         host:mover2         host:mover3         host:mover1
</span><span class='line'>                                            ----------------------------------------------------------------------------------------------------
</span><span class='line'><span class="o">[</span>2012-02-19 07:00:00, 2012-02-19 20:29:59<span class="o">]</span>:                29557                9578                9551                9420                1008
</span></code></pre></td></tr></table></div></figure>


<p><img src="120219070000-120219202959.count.Token_Acquisitions.breakdown10.total.smaller.png" title="Token Acquisitions (breakdown)" alt="Token Acquisitions (breakdown)" /></p>

<p>Sometimes when using <code>--breakdown-by-field-number</code> there are a lot of small entries that clutter the plots.
Use <code>--breakdown-threshold-percent PERCENT</code> to gather then all into one entry named <em>OTHER</em>.</p>

<h2>Summing and Averaging Data in Events</h2>

<p>Note that each data-mover call also logs a file size, e.g. <code>--size 367437348</code> in the following:</p>

<figure class='code'><figcaption><span>Example Log Entry with Size</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>2012-02-19 07:00:05: host6203: pid  9480: data-mover called: data-put --size 367437348
</span></code></pre></td></tr></table></div></figure>


<p>These sizes can easily be summed.
The string <code>\d+</code> is a regular expression for one or more digits.
Putting this in the context of where the size occurs in the log entry, and surrounding it with parentheses to make it a group so that logstats can extract just the number, the <code>REGEX</code> to sum <code>data-get</code> sizes becomes <code>data-get --size (\d+)</code>.
Naming this <code>Data Downloaded</code> and adding <code>--units bytes</code>, to label the y-axis for clarity, we have:</p>

<figure class='code'><figcaption><span>Summing Data in Log Entries</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>logstats --sum <span class="s1">&#39;Data Downloaded: data-get --size (\d+)&#39;</span> --units bytes --save-plots  data-mover.log
</span><span class='line'>                                              Data Downloaded
</span><span class='line'>                                            -----------------
</span><span class='line'><span class="o">[</span>2012-02-19 07:00:00, 2012-02-19 07:05:00<span class="o">)</span>:      101596699714
</span><span class='line'><span class="o">[</span>2012-02-19 07:05:00, 2012-02-19 07:10:00<span class="o">)</span>:      123647431651
</span><span class='line'><span class="o">[</span>2012-02-19 07:10:00, 2012-02-19 07:15:00<span class="o">)</span>:      133152057117
</span><span class='line'><span class="o">[</span>2012-02-19 07:15:00, 2012-02-19 07:20:00<span class="o">)</span>:       44409405396
</span><span class='line'><span class="o">[</span>2012-02-19 07:20:00, 2012-02-19 07:25:00<span class="o">)</span>:       17143655761
</span><span class='line'><span class="o">[</span>2012-02-19 07:25:00, 2012-02-19 07:30:00<span class="o">)</span>:       35793499937
</span><span class='line'><span class="o">[</span>2012-02-19 07:30:00, 2012-02-19 07:35:00<span class="o">)</span>:       27646004108
</span><span class='line'><span class="o">[</span>2012-02-19 07:35:00, 2012-02-19 07:40:00<span class="o">)</span>:        7934911797
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p><img src="120219070000-120219202959.sum.Data_Downloaded.time_series_300s.png" title="Data_Downloaded" alt="Data Downloaded" /></p>

<p>To make the y-axis a bit more clear, you can use a <code>--units-conversion</code> factor and adjust the <code>--units</code> label according.
If you want cumulative numbers, instead of the numbers computed independently for each time bin, just add <code>--cumulative</code>.
For example:</p>

<figure class='code'><figcaption><span>Summing Data in Log Entries (2)</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>logstats --sum <span class="s1">&#39;Data Downloaded: data-get --size (\d+)&#39;</span> --cumulative --units TB --units-conversion-factor bytes-to-TB --save-plots  data-mover.log
</span><span class='line'>                                              Data Downloaded
</span><span class='line'>                                            -----------------
</span><span class='line'><span class="o">[</span>2012-02-19 07:00:00, 2012-02-19 07:05:00<span class="o">)</span>:          0.101597
</span><span class='line'><span class="o">[</span>2012-02-19 07:05:00, 2012-02-19 07:10:00<span class="o">)</span>:          0.225244
</span><span class='line'><span class="o">[</span>2012-02-19 07:10:00, 2012-02-19 07:15:00<span class="o">)</span>:          0.358396
</span><span class='line'><span class="o">[</span>2012-02-19 07:15:00, 2012-02-19 07:20:00<span class="o">)</span>:          0.402806
</span><span class='line'><span class="o">[</span>2012-02-19 07:20:00, 2012-02-19 07:25:00<span class="o">)</span>:          0.419949
</span><span class='line'><span class="o">[</span>2012-02-19 07:25:00, 2012-02-19 07:30:00<span class="o">)</span>:          0.455743
</span><span class='line'><span class="o">[</span>2012-02-19 07:30:00, 2012-02-19 07:35:00<span class="o">)</span>:          0.483389
</span><span class='line'><span class="o">[</span>2012-02-19 07:35:00, 2012-02-19 07:40:00<span class="o">)</span>:          0.491324
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p><img src="120219070000-120219202959.sum.Data_Downloaded.time_series_300s_cumulative.png" title="Data Downloaded (cumulative)" alt="Data Downloaded (cumulative)" /></p>

<p>The sizes can also be averaged.
Just change <code>--sum</code> to <code>--average</code> in the original summation plot above:</p>

<figure class='code'><figcaption><span>Averaging Data in Log Entries</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>logstats --average <span class="s1">&#39;Data Downloaded: data-get --size (\d+)&#39;</span> --units bytes --save-plots  data-mover.log
</span></code></pre></td></tr></table></div></figure>


<p><img src="120219070000-120219202959.averagevalue.Data_Downloaded.time_series_300s.png" title="Data Downloaded (average)" alt="Data Downloaded (average)" /></p>

<h2>Drilling Down</h2>

<p>If you&#8217;re not interested in the entire time range, logstats has options <code>--tstart</code> and <code>--tend</code> to limit the scope.
There is also an option <code>-t</code> to change the time bin interval from the default 300 seconds (5 minutes).
For example, to take the above average for a specific 15 minute range and show statistics for each 60 second interval:</p>

<figure class='code'><figcaption><span>Narrowing Time Ranges</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>logstats --average <span class="s1">&#39;Data Downloaded: data-get --size (\d+)&#39;</span> --units bytes --tstart <span class="s1">&#39;2012-02-19 16:30:00&#39;</span> --tend <span class="s1">&#39;2012-02-19 16:45:00&#39;</span> -t 60 --save-plots  data-mover.log
</span></code></pre></td></tr></table></div></figure>


<p><img src="120219163000-120219164500.averagevalue.Data_Downloaded.time_series_60s.png" title="Data Downloaded (average, zoomed)" alt="Data Downloaded (average, zoomed)" /></p>

<h2>Entry Extraction and Collation</h2>

<p>logstats&#8217; basic parsing can be put to use for simply extracting lines of interest &mdash; just add <code>--extract</code>, usually along with an event specification (the actual computation will be skipped) and/or a time range:</p>

<figure class='code'><figcaption><span>Extracting Log Entries by Time</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>logstats --extract --tstart <span class="s1">&#39;2012-02-19 09:30:00&#39;</span> --tend <span class="s1">&#39;2012-02-19 09:30:03&#39;</span>  data-mover.log
</span><span class='line'>2012-02-19 09:30:00: host5302: pid 19866: acquiring an i/o token
</span><span class='line'>2012-02-19 09:30:00: host5302: pid 19866: i/o token acquired: token:mover1_0, host:mover1, tries:1, <span class="nb">wait</span>:0.0 seconds
</span><span class='line'>2012-02-19 09:30:01: host6003: pid 32756: get transfer of <span class="o">[</span>599708008<span class="o">]</span> bytes completed in <span class="o">[</span>19.365<span class="o">]</span> seconds <span class="o">[</span>29.534 MiB/s<span class="o">]</span>
</span><span class='line'>2012-02-19 09:30:03: host5902: pid 26520: data-mover called: data-get --size 579043303
</span></code></pre></td></tr></table></div></figure>


<p>It can also be used to collate various separate logs, e.g. from different hosts, into one, time-ordered log.
For example, say you have these two logs:</p>

<figure class='code'><figcaption><span>Example Files to Collate</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>cat host-a.log
</span><span class='line'>2012-02-19 09:30:01: host-a: event one
</span><span class='line'>2012-02-19 09:30:03: host-a: event two
</span><span class='line'>2012-02-19 09:30:04: host-a: event three
</span><span class='line'>2012-02-19 09:30:06: host-a: event four
</span><span class='line'><span class="nv">$ </span>cat host-b.log
</span><span class='line'>2012-02-19 09:30:02: host-b: event one
</span><span class='line'>2012-02-19 09:30:04: host-b: event two
</span><span class='line'>2012-02-19 09:30:07: host-b: event three
</span></code></pre></td></tr></table></div></figure>


<p>Whenever multiple log files are given, logstats will collate the entries (though each must already be time-ordered).
To collate and do nothing else, use <code>--extract</code> with no other selection criteria:</p>

<figure class='code'><figcaption><span>Collating Files</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>logstats --extract host-a.log host-b.log
</span><span class='line'>2012-02-19 09:30:01: host-a: event one
</span><span class='line'>2012-02-19 09:30:02: host-b: event one
</span><span class='line'>2012-02-19 09:30:03: host-a: event two
</span><span class='line'>2012-02-19 09:30:04: host-a: event three
</span><span class='line'>2012-02-19 09:30:04: host-b: event two
</span><span class='line'>2012-02-19 09:30:06: host-a: event four
</span><span class='line'>2012-02-19 09:30:07: host-b: event three
</span></code></pre></td></tr></table></div></figure>


<h2>More</h2>

<p>There are many more command line options for tweaking the behavior, e.g. plot tweaks (title, y-axis range, legend details, error bar presence, bar charts instead of pie charts, etc.) and for accommodating different time formats (<code>--time-format</code>, <code>--time-nchars</code>, etc.).
See <code>logstats --help</code> for details:</p>

<figure class='code'><figcaption><span>logstat &#8211;help</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>NAME
</span><span class='line'>    logstats - summarize and visualize data in log files
</span><span class='line'>
</span><span class='line'>SYNOPSIS
</span><span class='line'>    logstats --count|--sum|--average LABEL:REGEX ... [-t SECONDS] [FILENAME...]
</span><span class='line'>
</span><span class='line'>DESCRIPTION
</span><span class='line'>    This script takes FILENAMEs where each line starts with some sort of
</span><span class='line'>    timestamp, searches for text that matchs the given REGEXs (regular
</span><span class='line'>    expressions) and prints and/or plots statistics about their occurrences.
</span><span class='line'>
</span><span class='line'>    For each time bin, if the REGEX was specified as a --count, it will print
</span><span class='line'>    the total number of occurrences of the message.  If the REGEX was specified
</span><span class='line'>    with --sum, it will print out the sum of the relevant number in the message
</span><span class='line'>    (the REGEX must use grouping so that group(1) extracts a numeric
</span><span class='line'>    substring).  For --average, it will print the average of the value. REGEX
</span><span class='line'>    syntax is that of the python re module.  The LABEL is used to identify the
</span><span class='line'>    statistic in the output.
</span><span class='line'>
</span><span class='line'>    Events do not have to be mutually exclusive -- each line is searched for
</span><span class='line'>    all events.  As a consequence, if you want to, e.g., both count the number
</span><span class='line'>    of occurrences of an event and average values in the messages, specify it
</span><span class='line'>    twice, once with -c and once with -a.
</span><span class='line'>
</span><span class='line'>    By default, the script makes a time series plot.  If --totals-also or
</span><span class='line'>    --totals-only is given, it will include stats for the entire time range.
</span><span class='line'>
</span><span class='line'>    If --show-plots or --save-plots is given, this will also plot the values
</span><span class='line'>    (requires matplotlib).
</span><span class='line'>
</span><span class='line'>    Multiple FILENAMES may be given.  The lines from all files or collated into
</span><span class='line'>    chronological order (if lines from more than one file specify the same
</span><span class='line'>    time, lines are taken in the order the filenames are given).  The lines in
</span><span class='line'>    each individual file are assumed to be in chronological order.  If no
</span><span class='line'>    FILENAME is given, stdin is used.  Stdin may also be explicity specified
</span><span class='line'>    using the FILENAME `-&#39;.
</span><span class='line'>
</span><span class='line'>    This script only recognizes a select few time formats (use
</span><span class='line'>    --print-time-formats to display them).  You can add a format with the
</span><span class='line'>    --time-format option.  If the beginning of the a line does not match one of
</span><span class='line'>    the known time formats, this tries to use the dateutil module, if installed
</span><span class='line'>    (it usually comes along with matplotlib), to parse the time.  This can be
</span><span class='line'>    easier than specifying the exact format, but there are some drawbacks:
</span><span class='line'>
</span><span class='line'>        o  The entire log entries are searched for event REGEXs, not just the
</span><span class='line'>           part after the timestamp (so the REGEX must be constructed to not
</span><span class='line'>           match any part of the timestamp).
</span><span class='line'>
</span><span class='line'>        o  The format of times printed by this script will not match those
</span><span class='line'>           found in the log.
</span><span class='line'>
</span><span class='line'>        o  Using dateutil is about three times slower than an explicit format
</span><span class='line'>           (at least for the specific formats I&#39;ve tried).
</span><span class='line'>
</span><span class='line'>    The dateutil parse method is called with fuzzy=True, so unknown tokens are
</span><span class='line'>    ignored, but you can drastically improve it&#39;s chances by giving this script
</span><span class='line'>    the --time-nchars option to specify a the length of string to look at.
</span><span class='line'>
</span><span class='line'>    If there are any parsing errors trying to extract a time, numeric value to
</span><span class='line'>    include in an average, etc., this script will print a warning message to
</span><span class='line'>    stderr and move on to the next log entry.
</span><span class='line'>
</span><span class='line'>    All times have at best a resolution of whole seconds.  All counts are
</span><span class='line'>    processed as integers, and all averages are processed as floats.  For sums,
</span><span class='line'>    if the regex group extracts something with a `.&#39;, it&#39;s processed as a
</span><span class='line'>    float, else it&#39;s processed as an int.
</span><span class='line'>
</span><span class='line'>    When plotting, the matplotlib module is particularly picky about timezones.
</span><span class='line'>    You probably want to put something like `timezone: US/Eastern&#39; in your
</span><span class='line'>    matplotlibrc file (the default is UTC and causes matplotlib to interpret
</span><span class='line'>    the numbers differently than the rest of this script).
</span><span class='line'>
</span><span class='line'>OPTIONS
</span><span class='line'>    -c, --count LABEL:REGEX
</span><span class='line'>        An event type to count.
</span><span class='line'>
</span><span class='line'>    -s, --sum LABEL:REGEX
</span><span class='line'>        An event type with a numeric value to sum.  The regex should use groups
</span><span class='line'>        such that group(1) is the numeric value.
</span><span class='line'>
</span><span class='line'>    -a, --average LABEL:REGEX
</span><span class='line'>        An event type with a numeric value to average.  The regex should use
</span><span class='line'>        groups such that group(1) is the numeric value.
</span><span class='line'>
</span><span class='line'>    -t, --interval
</span><span class='line'>        The time bin width, in seconds.  Default is 300 (5 minutes).  The
</span><span class='line'>        special strings &quot;minute&quot;, &quot;hour&quot;, &quot;day&quot;, &quot;week&quot;, &quot;month&quot;, and &quot;year&quot;
</span><span class='line'>        can be used, too.
</span><span class='line'>
</span><span class='line'>    --tstart TIMESTAMP
</span><span class='line'>        Restrict processing to times later than or equal to the given time.
</span><span class='line'>        The TIMESTAMP is parsed the same way as a log entry is (it doesn&#39;t have
</span><span class='line'>        to match the format in the log).
</span><span class='line'>
</span><span class='line'>    --tend TIMESTAMP
</span><span class='line'>        Restrict processing to times earlier than the given time.  The
</span><span class='line'>        TIMESTAMP is parsed the same way a log entry is (it doesn&#39;t have to
</span><span class='line'>        match the format in the log).
</span><span class='line'>
</span><span class='line'>    --totals-also
</span><span class='line'>        Also print/plot the statistics for the entire time range, after the
</span><span class='line'>        breakdown by bin.
</span><span class='line'>
</span><span class='line'>    --totals-only
</span><span class='line'>        Like --totals-also, but only print/plot the totals, no breakdown by
</span><span class='line'>        bin.
</span><span class='line'>
</span><span class='line'>    --cumulative
</span><span class='line'>        For time series statistics, report cumulative values rather than values
</span><span class='line'>        for each time bin independently.
</span><span class='line'>
</span><span class='line'>    --breakdown-by-field-number FIELD_NUMBER
</span><span class='line'>        For the given statistics, break them down by unique values that appear
</span><span class='line'>        in the given FIELD_NUMBER.  This saves pre-inspecting the field and
</span><span class='line'>        explicitly creating a separate statistic for each.  Splitting is on
</span><span class='line'>        whitespace; indexing starts at 1 and includes the timestamp part.
</span><span class='line'>
</span><span class='line'>    --breakdown-threshold-percent PERCENT
</span><span class='line'>        When --breakdown-by-field-number is provided, group all breakdowns with
</span><span class='line'>        total value that ends up being less than the given PERCENT of the
</span><span class='line'>        entire value into a single entry labeled `OTHER&#39;.
</span><span class='line'>
</span><span class='line'>    --show-plots
</span><span class='line'>        Display plots of the statistics (requires matplotlib and an X display).
</span><span class='line'>
</span><span class='line'>    --save-plots
</span><span class='line'>        Save plots of the statistics (requires matplotlib and an X display).
</span><span class='line'>
</span><span class='line'>    --extract
</span><span class='line'>        Write matching log entries to stdout; do not compute statistics.  If no
</span><span class='line'>        event types are given, write all lines to stdout.  Use this in
</span><span class='line'>        combination with --tstart and --tend to extract ranges from logs.  Note
</span><span class='line'>        that lines from which a time cannot be parsed are *not* included in the
</span><span class='line'>        output.
</span><span class='line'>
</span><span class='line'>    --no-headers
</span><span class='line'>        In the text output, don&#39;t print out the lines of identifying names for
</span><span class='line'>        the statistics.
</span><span class='line'>
</span><span class='line'>    --title TITLE
</span><span class='line'>        Override the default title for the plot(s).
</span><span class='line'>
</span><span class='line'>    --totals-in-title
</span><span class='line'>        If there is only one statistic being plotted, add the total count/sum
</span><span class='line'>        or overall average (depending on statistic being plotted) to the title.
</span><span class='line'>        The applies whether --title is supplied or auto-generated.
</span><span class='line'>
</span><span class='line'>    --totals-in-legend
</span><span class='line'>        Add the total count/sum or overall average (depending on the statistic
</span><span class='line'>        being plotted) for each statistic in the legend.  This is independent
</span><span class='line'>        of --totals-also and --totals-only.
</span><span class='line'>
</span><span class='line'>    --bar-charts
</span><span class='line'>        If plotting statistics of totals, use vertical bar charts instead of the
</span><span class='line'>        default pie charts.
</span><span class='line'>
</span><span class='line'>    --ymin VALUE
</span><span class='line'>        The minimum value for the y-axis range.  Default is to autoscale.
</span><span class='line'>
</span><span class='line'>    --ymax VALUE
</span><span class='line'>        The maximum value for the y-axis range.  Default is to autoscale.
</span><span class='line'>
</span><span class='line'>    --units UNITS_STRING
</span><span class='line'>        Label for the Y axis, title, etc. when applicable (sums and averages).
</span><span class='line'>        This does not do any manipulation of the values; it&#39;s just a simple
</span><span class='line'>        label.  See also --units-conversion-factor.
</span><span class='line'>
</span><span class='line'>    --units-conversion-factor FACTOR
</span><span class='line'>        Multiply sums and averages by the given conversion FACTOR.  This can be
</span><span class='line'>        a numerical value in any format that python&#39;s int() or float() can
</span><span class='line'>        parse.  There is a set of special shortcut strings available, too; see
</span><span class='line'>        --print-units-conversion-factors.
</span><span class='line'>
</span><span class='line'>    --print-units-conversion-factors
</span><span class='line'>        Print out the available --units-conversion-factor shortcut strings
</span><span class='line'>        (&#39;seconds-to-minutes&#39;, &#39;bytes-to-gigabytes&#39;, etc.) and their associated
</span><span class='line'>        values.
</span><span class='line'>
</span><span class='line'>    --error-bars-off
</span><span class='line'>        By default, if one average is being plotted, error bars will be
</span><span class='line'>        plotted.  Use this option to not do that.
</span><span class='line'>
</span><span class='line'>    --error-bars-on
</span><span class='line'>        By default, if more than one average is being plotted, error bars will
</span><span class='line'>        not be plotted.  Use this option to add them.
</span><span class='line'>
</span><span class='line'>    --legend-on
</span><span class='line'>        By default, if only one statistic is being plotted, no legend will be
</span><span class='line'>        drawn.  Use this option to add it.
</span><span class='line'>
</span><span class='line'>    --legend-off
</span><span class='line'>        By default, if more than one statistic is being plotted, a legend will
</span><span class='line'>        be drawn.  Use this option to remove it.
</span><span class='line'>
</span><span class='line'>    --legend-location LOCATION
</span><span class='line'>        Force the legend to be in the specific location.  LOCATION must be one
</span><span class='line'>        of the accepted matplotlib values (&quot;right&quot;, &quot;center&quot;, &quot;lower left&quot;,
</span><span class='line'>        etc., or their numerical equivalents) or &quot;left&quot;, which is taken to mean
</span><span class='line'>        &quot;upper left&quot; (why does matplotlib have &quot;right&quot; but no &quot;left&quot;?).
</span><span class='line'>        Default is &quot;best&quot;, but sometimes that doesn&#39;t look so good.
</span><span class='line'>
</span><span class='line'>    --time-format FORMAT
</span><span class='line'>        Add a format to the list of known formats.  Multiple --time-format
</span><span class='line'>        options can be given to add multiple formats.  See --print-time-formats
</span><span class='line'>        format details.
</span><span class='line'>
</span><span class='line'>    --time-nchars NUMBER
</span><span class='line'>        If the dateutil module is installed, use it instead of the specific
</span><span class='line'>        formats.  Only look at the given NUMBER of leading characters when
</span><span class='line'>        parsing the time.  The default is 30.
</span><span class='line'>
</span><span class='line'>    --print-time-formats
</span><span class='line'>        Print the known time formats and exit.
</span><span class='line'>
</span><span class='line'>    -h, --help
</span><span class='line'>        Print this help.
</span><span class='line'>
</span><span class='line'>    (The deprecated options --ylabel and --no-legend have been replaced by
</span><span class='line'>    --units and --legend-off, respectively.)
</span><span class='line'>
</span><span class='line'>EXAMPLES
</span><span class='line'>    See the following for a full write-up and detailed examples:
</span><span class='line'>
</span><span class='line'>        http://jabrcx.github.io/logstats
</span><span class='line'>
</span><span class='line'>    Plot 5-second averages of a value that changes randomly every second (takes 60 seconds to run):
</span><span class='line'>        ( for i in {1..60}; do echo $(date) $RANDOM; sleep 1; done ) | logstats -a &#39;x: (\d+)&#39; -t 5 --show-plots
</span><span class='line'>
</span><span class='line'>    Count successful ssh logins:
</span><span class='line'>        logstats -c &#39;ssh_logins: ssh.*session opened&#39; /var/log/messages
</span><span class='line'>
</span><span class='line'>    Extract a 24 hour period from a log that uses &#39;%Y%m%d%H%M%S&#39; format:
</span><span class='line'>        logstats --extract --time-format %Y%m%d%H%M%S --tstart 1004261200 --tend 1004271200 full.log &gt; day.log
</span><span class='line'>
</span><span class='line'>AUTHOR
</span><span class='line'>    Copyright (c) 2013, John A. Brunelle
</span></code></pre></td></tr></table></div></figure>


  
    <footer>
      <p class="meta">
        
        








  


<time datetime="2013-05-24T20:24:00-04:00" pubdate data-updated="true">May 24<span>th</span>, 2013</time>
        
      </p>
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://jabrcx.github.com/logstats/index.html" data-via="" data-counturl="http://jabrcx.github.com/logstats/index.html" >Tweet</a>
  
  
  
</div>

      
    </footer>
  
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/09/12/published-stracestats/">published stracestats</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/24/published-logstats/">published logstats</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - jabrcx -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
